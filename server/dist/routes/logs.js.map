{"version":3,"sources":["../../src/routes/logs.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,SAAS,QAAQ,SAAR,EAAmB,MAAnB,EAAb;AAAA,IACE,aAAa,QAAQ,yBAAR,CADf;;;AAIA,SAAS,cAAT,CAAyB,SAAzB,EAAoC;AAClC,MAAI,iBAAiB;AACnB,gBAAY,GADO;AAEnB,kBAAc;AAFK,GAArB;;AAKA,aAAW,KAAX,CAAiB,cAAc,SAA/B;;AAEA,SAAO,eAAe,SAAf,KAA6B,GAApC;AACD;;AAED,OAAO,GAAP,CAAW,GAAX,EAAgB,UAAC,GAAD,EAAM,GAAN,EAAc;AAC5B,aACG,MADH,GAEG,IAFH,CAEQ;AAAA,WAAQ,IAAI,IAAJ,CAAS,IAAT,CAAR;AAAA,GAFR,EAGI;AAAA,WAAS,IAAI,UAAJ,CAAe,eAAe,MAAM,IAArB,CAAf,CAAT;AAAA,GAHJ;AAID,CALD;;AAOA,OAAO,GAAP,CAAW,OAAX,EAAoB,UAAC,GAAD,EAAM,GAAN,EAAc;AAChC,aACG,GADH,CACO,IAAI,MAAJ,CAAW,GADlB,EAEG,IAFH,CAEQ;AAAA,WAAQ,IAAI,IAAJ,CAAS,IAAT,CAAR;AAAA,GAFR,EAGI;AAAA,WAAS,IAAI,UAAJ,CAAe,eAAe,MAAM,IAArB,CAAf,CAAT;AAAA,GAHJ;AAID,CALD;;AAOA,OAAO,OAAP,GAAiB,MAAjB","file":"logs.js","sourcesContent":["'use strict';\n\nlet router = require('express').Router(),\n  logService = require('../services/log-service');\n\n// TODO - improve\nfunction getErrorStatus (errorCode) {\n  let errorStatusMap = {\n    'NOTFOUND': 404,\n    'BADREQUEST': 400\n  };\n\n  logService.debug('errorCode' + errorCode);\n\n  return errorStatusMap[errorCode] || 500;\n}\n\nrouter.get('/', (req, res) => {\n  logService\n    .getAll()\n    .then(data => res.send(data),\n      error => res.sendStatus(getErrorStatus(error.code)));\n});\n\nrouter.get('/:key', (req, res) => {\n  logService\n    .get(req.params.key)\n    .then(data => res.send(data),\n      error => res.sendStatus(getErrorStatus(error.code)));\n});\n\nmodule.exports = router;"]}