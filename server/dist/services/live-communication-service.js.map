{"version":3,"sources":["../../src/services/live-communication-service.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,WAAW,QAAQ,WAAR,CAAf;AAAA,IACE,aAAa,QAAQ,eAAR,CADf;AAAA,IAEE,WAFF;;AAIA,SAAS,MAAT,CAAiB,IAAjB,EAAuB;AACrB,OAAK,SAAS,IAAT,CAAL;AACD;;AAED,SAAS,SAAT,CAAoB,OAApB,EAA6B,OAA7B,EAAsC;AACpC,MAAI,EAAJ,EAAQ;AACN,OAAG,IAAH,CAAQ,OAAR,EAAiB,OAAjB;AACD,GAFD,MAEO;AACL,eAAW,KAAX,CAAiB,2DAA2D,OAA3D,GAAqE,aAArE,GAAqF,KAAK,SAAL,CAAe,OAAf,CAAtG;AACD;AACF;;AAED,OAAO,OAAP,GAAiB;AACf,UAAQ,MADO;AAEf,aAAW;AAFI,CAAjB","file":"live-communication-service.js","sourcesContent":["'use strict';\n\nlet socketIo = require('socket.io'),\n  logService = require('./log-service'),\n  io;\n\nfunction config (http) {\n  io = socketIo(http);\n}\n\nfunction broadcast (channel, message) {\n  if (io) {\n    io.emit(channel, message);\n  } else {\n    logService.error('Live-communication broadcast without config. Channel: ' + channel + '. Message: ' + JSON.stringify(message));\n  }\n}\n\nmodule.exports = {\n  config: config,\n  broadcast: broadcast\n};"]}